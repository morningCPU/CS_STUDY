# C++面向对象

## 主要内容
类，类成员，默认函数，自定义成员函数，访问权限，
继承，多继承，虚继承，多态，
运算符重载，友元，动态申请，类型转换，
string，文件流

## 四大编程思想
面向过程，面向对象，泛型编程，函数式编程

## 基本结构
类的写法
```
#include<iostream>
class A{
private:
    int a;
public:
    A(int a):a(a);
    void print(){
        std::cout << a <<'\n';
    }
};//记得要有分号

int main()
{
    A a(1);
    a.print();
    return 0;
}
```

## 访问权限
priavte : 私有的，只能在类内调用
protected : 受保护的，只能在所在类以及子类中使用
public ： 公有的，可以随意调用
class默认是private
strcut默认是public
```
//格式
private:
protected:
public:
```

## 类外定义
```
//A.h
#ifndef A_H
#define A_H

class A
{
private:
    int a;

public:
    A(int a);
    ~A();
    void print();
};

#endif

//A.cpp
#include "A.h"
#include <iostream>
A::A(int a) : a(a) {};
A::~A() {};
void A::print()
{
    std::cout << a << '\n';
}

//main.cpp
#include <iostream>
#include "A.h"
using namespace std;

int main()
{
    A a(1);
    a.print();
    return 0;
}
```

## 默认参数
默认参数在声明的时候定义，函数定义的时候就不用写了

## 构造函数
与类的名字相同
```
//A.h
#ifndef A_H
#define A_H

class A{
private:
    int a;
public:
    A(int a);
};

#endif

//A.cpp
#include"A.h"
A::A(int a):a(a){};

//main.cpp
#include"A.h"
int main()
{
    A a(1);
    reutrn 0;
}
```

## 默认构造函数
没有参数的构造函数

## 初始化列表
引用和const成员只能用初始化列表初始化
```
class A{
private:
    int a;
    int b;
public:
    A(int a,int b):a(a),b(b);
};

```

## 构造函数重载
```
class A{
private:
    int a;
    int b;
    double c;
    double d;
public:
    A();
    A(int a);
    A(int a,int b);
    A(double c);
    A(double c,double d);
};
```

## 构造函数默认参数
要注意不要发生冲突

## 析构函数
对象生命周期结束时自动调用的函数形式
形式类名前加上~
```
class A{
public :
    ~A();
};
```

## 对象数组的申请与释放
delete [] A;
为对象数组的每一个对象调用析构函数

## this指针
默认存在，装着当前对象的地址
+ 可以用来区分类成员与局部变量

## 拷贝构造
```
class A{
public:
    A(const A& t);
};
```

## 临时对象
只在一条语句中存在
A(1)

## 拷贝构造调用时机
新建一个对象，用已存在的同类对象对其初始化时
+ 拷贝构造 : A b(a)
+ 赋值 : A b = a
+ 匿名对象 : A *p = new A(a)
+ 参数调用
+ 返回值
+ 注意：A a = A(12) 这里应用临时变量并不调用拷贝构造，被优化了

## 拷贝函数功能
逐个复制非静态成员，复制的是成员的值

## 深拷贝和浅拷贝
+ 浅拷贝：单纯的值的复制
+ 正对指针成员，有申请空间与释放空间的操作
直接拷贝的话，两个指针所指向的空间会相同，
那就会对同一个空间进行两次析构，导致错误的发生
所以要自己写拷贝构造函数
可以使用引用从而避免多次析构

## 运算符重载
运算符重载要求其中一个操作数必须是对象
左操作数默认是当前类的对象，参数是右操作数