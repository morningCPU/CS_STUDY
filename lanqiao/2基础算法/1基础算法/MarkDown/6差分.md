# 差分数组

## 1.作用
快速对一个区间的数据进行更新

***

## 2.对一维数组：
求差分数组：`diff[i] = a[i] - a[i-1]`
+ 这里可以看到可能会用 a[0],所以 a[0] 要先置 0
修改区间，将区间 [l,r] 都加上 x
```
diff[l] += x;
diff[r+1] -= x;
```
复原：
```
a[i] = a[i-1] + diff[i];
```

***

## 3.对二维数组：
求差分数组：`diff[i][j] = a[i][j] - a[i-1][j] - a[i[j-1] + a[i-1][j-1];`
修改区间，将区间 (x1,y1) 到 (x2,y2) 中每个元素都加上 v
```
diff[x1][y1] += v;
diff[x1][y2+1] -= v;
diff[x2+1][y1] -= v;
diff[x2+1][y2+1] += v;
```
复原：
```
a[i][j] = a[i-1][j] + a[i][j-1] + a[i-1][j-1] + diff[i][j];
```

***

## 4.注意
+ 对差分数组要进行前缀和处理得到更新后的数组
即流程为： 原数组 -> 差分数组 -> 更新后的数组
+ 差分数组本身的数据并没有过多的实际意义
对一维数组还好理解，在一维差分数组中，差分值表示的是相邻元素之间变化量
但在二维数组中就有点抽象了，而在二维差分数组中，差分值的含义并不是直接表相邻元素的变化，而是用于表示区间更新的影响。
+ 总结为：
对差分数组做前缀和可以还原为原数组
利用差分数组可以实现快速的区间修改









