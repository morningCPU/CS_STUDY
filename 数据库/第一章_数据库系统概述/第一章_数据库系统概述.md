# 第一章 数据库系统概述

## 一、DBMS的史前时代
### 1.人工管理阶段
&emsp;&emsp;1.数据的管理者：程序员
&emsp;&emsp;2.数据存储：不存储
&emsp;&emsp;3.共享程度：不共享
&emsp;&emsp;4.数据独立性：不独立，完全依赖于程序
&emsp;&emsp;5.数据控制能力：应用程序自己控制

### 2.文件系统阶段
(1) **构建步骤：**
&emsp;1. 定义数据结构
&emsp;注意：文件系统数据的结构是靠程序定义和解释的
&emsp;2. 构造链表
&emsp;3. 操作链表
&emsp;4. 设置用户界面
&emsp;5. 创建数据存储文件
&emsp;6. 文件与链表的数据交换
&emsp;&emsp;+ 程序运行时，将文件中的数据出，放置到程序对应链表中
&emsp;&emsp;+ 程序结束运行前，将链表中的数据存入到对应数据文件中

(2) **特点：**
1.数据的管理者：文件系统
2.数据存储：长期保存
3.共享程度：共享性差
4.数据独立性：独立性差，逻辑结构修改必须修改程序
5.数据结构化：记录内有结构，整体无结构
6.数据控制能力：应用程序自己控制

***

## 二、文件系统的缺陷与DBMS的基本功能

### 1.文件系统的缺陷
&emsp;&emsp;1.大容量数据
&emsp;&emsp;2.并发访问
&emsp;&emsp;3.故障恢复
&emsp;&emsp;4.安全性
&emsp;&emsp;5.完整性
```
1.大容量数
    链表结构要把数据一次性读入内存，但单个文件不允许超过4GB
2.并发访问
    可能导致多个用户同时存取同一个数据，于是出现数据访问冲突，可能导致数据的不一致，甚至可能引
    起数据的灾难性的破坏
3.故障恢复
    可能出现数据未完全写入磁盘的现象，从而出现数据丢失，甚至数据的破坏
4.安全性
    数据的安全性是对访问数据的用户进行授权，没有得到授权的用户不能访问系统的数据，得到授权的用
    户只能访问其授权对应的数据
5.完整性
    修改一个文件的一个数据，必须同时修改其他文件中相同的数据
```

### 2.数据库管理系统应具备的功能
&emsp;&emsp;1.数据独立性
&emsp;&emsp;2.并发控制
&emsp;&emsp;3.故障恢复
&emsp;&emsp;4.安全性
&emsp;&emsp;5.完整性
```
1.数据独立
    + 物理独立性
        用户的应用程序与存储在磁盘上的数据库中数据是相互独立的，
        数据在磁盘上怎样存储由DBMS管理，用户程序不需要了解，
        应用程序要处理的只是数据的逻辑结构，当数据的物理存储改变了，应用程序不用改变
    + 逻辑独立性
        用户的应用程序与数据库的逻辑结构是相互独立的，当数据的逻辑结构改变时，用户程序也可以不
        变
2.并发控制
3.故障恢复
4.安全性
5.完整性
```

### 3.数据库及其相关概念
(1) 数据库管理系统
数据库管理系统是一个通用的软件系统，由一组计算机程序构成，用于科学地组织和存储数据、高效的获取
和维护数据
(2) 数据
数据是描述现实世界中各种具体事物和抽象概念的、可存储并具有明确意义的信息
简而言之，数据就是描述事物的符号记录
+ 数据与其语义不可分割
(3) 数据库
数据库是相互关联的数据集合
数据库中的数据是按照一定的数据模型组织、描述和存储的
+ 永久存储、有组织、可共享
(4) 数据库系统
在计算机系统中引入数据库后的系统构成，由数据库和数据库管理系统构成
+ 更广义为：数据库+数据库管理系统+应用程序+数据库管理员+用户
(5) 数据库操作
增加，删除，查找，修改
(6) 视图
从不同的角度截取同一数据库的子集，每一个子集被称为该数据库的一个视图

***

## 三、数据库模型与数据库系统的抽象层次

### 1.数据库设计过程的相关概念
(1) 数据抽象
一种数据抽取的过程
通过不断地数据抽象，达到实现现实系统中的数据存放到DBMS中的目的，也就是实现数据的计算机化管理
(2) 数据模型
对数据进行抽象化表示的工具
(3) 数据模式
根据数据模型来描述数据，得到的具体的表示
+ 三者的关系
1.数据抽象是将真实世界中的信息提炼再提炼，变成计算机能认识，可以管理的数据的过程
2.数据模型是数据抽象的工具，是数据组织和表示的方式
3.数据模式是数据抽象利用数据模型将数据组织起来后得到的结果

### 2.数据模型的三要素
1.数据结构
2.数据操作
3.数据约束
```
1.数据结构
    描述实体本身以及实体之间的联系
2.数据操作
    增删查改
3.数据约束
    包括对数据本身的约束以及数据之间的约束
    是一组完整性规则的集合
```

### 3.数据模型的三个评价标准
1.比较真实地描述现实世界
2.易于用户所理解
3.易于在计算机上实现

### 4.数据库系统的抽象层次
1.视图抽象
`视图抽象 通过 概念数据模型 得到 外模式`
2.概念抽象
`概念抽象 通过 逻辑数据模型 得到 概念模式`
+逻辑数据模型包括 层次数据模型，网状数据模型，关系数据模型
3.物理抽象
`物理抽象 通过 物理数据模型 得到 内模式`

### 4.三种数据模式
(1) 外模式
表示数据库用户能够使用的部分数据的逻辑结构和特征，是用户的数据视图
(2) 模式
表示数据库中全体数据的逻辑结构、数据之间的联系、安全性和完整性要求，是完整的数据视图
(3) 内模式
表示数据库中数据物理结构和存储方式
+ 为什么要三层抽象
(1) 传统的数据模型难以同时实现易于用户所理解和易于在计算机上实现，
&emsp;&ensp;所以要分而治之，通过划分阶段，不同阶段采用不同的数据模型
(2) 三餐抽象与数据库实际的设计过程相吻合，需要在分组调研设计的基础上进行整体设计，
&emsp;&ensp;继而根据数据量及要求采用DBMS存储数据

### 5.抽象层次之间的二级映像
(1) 外模式/模式
保证数据的逻辑独立性
(2) 模式/内模式
保证数据的物理独立性

***

## 四、数据库系统用户与数据库语言 

### 1.数据库中的角色
(1)最终用户
(2)数据库应用开发人员
(3)数据库管理员
(4)相关的软件工程师
```
(1)最终用户
    是现实系统中的业务人员，为了查询、更新、以及产生报表等需要而访问数据库的人
(2)数据库应用开发人员
    分析用户需求，为每个用户建立一个适于业务需要的外部视图，负责从外部模式，概念模式，内模式建
    立数据库的过程
(3)数据库管理员
    负责数据库监控、日常维护和管理
(4)相关的软件工程师
    开发数据库工具软件包、系统分析
```

### 2.为何需要数据库语言
DBMS封装了一些数据管理公用的方法，应用系统具体的数据结构仍需要由设计人员来定义

### 3.数据库语言
(1)数据定义语言DDL
数据库设计人员 用于完成对数据库模式的描述，定义数据结构和数据的完整性约束
(2)数据操纵语言DML
数据库管理员和用户 对数据进行增删查改
(3)数据控制语言DCL
数据库管理员 对数据库进行管理，包括定义用户，为用户授权，设置系统参数，调整系统性能

### 4.什么是数据库语言
数据库语言就是DBMS提供给用户定义数据结构、操纵数据和管理DBMS的一个界面

### 5.SQL
+ 第一个SQL标准是：SQL-86
+ SQL-89,SQL-92
+ SQL的交互式使用和嵌入式使用
(1)交互式使用是指用户直接通过DML语言在DBMS的操作界面通过命令行的方式来对数据进行操作
(2)嵌入式使用是指应用程序将DML语言作为应用开发的子语言，将其嵌入在应用程序中使用，用户不再操作
DBMS的界面
+ SQL语言最早在 System R 上开发

## 六、数据库技术的发展
(1) 数据管理模式：人工管理->文件管理->数据库管理
(2) 数据库技术的发展：由逻辑数据模型的进步而主导
(3) 第一代操作系统：层次数据模型，网状数据模型
&emsp;&ensp;第二代操作系统：关系数据模型
+ 关系数据库之父：E.F.Codd (埃德加·科德)

&emsp;&ensp;第三代操作系统：面向对象的数据库系统
(4) 数据仓库、并行/分布式/Web数据库技术的发展
(5) OLTP 联机事务处理，面向组织低层，提升其业务处理速度
&emsp;&ensp;OLAP 联机分析处理，面向组织高层，辅助决策支持

