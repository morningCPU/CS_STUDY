关系数据模型

1. 关系模式的特性
关系是一种规范化了的二维表格
(1) 属性是原子的，不可分解
(2) 不允许出现相同的元组
(3) 行有序，列无序

2. 完整性约束
正确性和相容性，数据库中存储的数据是有意义的或正确的，也就是和现实世界相符

3. 完整性约束类型
实体完整性，参照完整性，用户定义完整性
+ 实体完整性: 域约束，主键限制，唯一限制
域约束
主键限制: 值唯一且不为空 
唯一限制: 值唯一,允许有且仅有一个空值
+ 参照完整性: 外键限制
+ 用户定义完整性: 一般性限制

4. 外键限制
+ 主表的主键值在修改和删除时,从表中与该主键值相同的外键值可级联(cascade)删除或修改,
  或者禁止(no action) 主表主键值的修改和删除
+ 从表的外键值在插入和修改时需要，其值要参照主表中的主键值

create table ctake(
    CID char(10) foreign key references Course(CID),
    SID char(10) foreign key references stu(SID) 
    on delete cascade on update cascade,
    mark smallint check(mark between 10 and 100),
    primary key(CID,SID)
)

外键约束,触发器,断言

5. 关系模型的数据操纵
选择，投影，连接，并，交，差，笛卡尔积，除

6. 定义数据结构
(1) 整型数据类型: tinyint,smallint,int,bigint
(2) 浮点数据类型: decimal,float,real
(3) 字符数据类型: char,varchar,text,nchar,nvarchar,ntext
(4) 日期和时间数据类型: datetime
(5) 货币数据类型: money,smallmoney

7. 常用函数
+ getdate()
+ datediff(interval,date1,date2)
+ dateadd(interval,date1,date2)
+ datepart(inerval,date)
+ substring(string,start,longth)
+ convert(interval,data)

8. 默认值
default
+ 在create table 中
default '123'
+ 单独创建
create default name as '123';
sp_bindefault name,column
解除
sp_unbindefault column;
drop default name;

9. 规则
rule
create rule name as 规则
sp_bindrule name,@column
解除
sp_unbindrule
drop name

10. 检查约束
check
in,between,and,like
表级检查限制
constraint name check check_rule

11. 关系代数
基本的操作符：选择，投影，并，交，差，笛卡尔积
















